# BlackJack_IOT02
職訓課程 IOT02 期末專題 21點手機遊戲app

圖片均未取得授權，僅程式碼為原創。

The pictures are not authorized, only the code is original

整體設計及流程：

0.註冊、登入前會進行版本編號確認，不符合會直接跳轉雲端硬碟下載新版本。

1.利用Firebase的會員機制，進行註冊、信箱認證、登入。登入過的使用者會自動登入。

2.以UID為引索值，將會員資訊儲存至Realtime Database，並在登入時進行資料下載。

3.登入後，可至主畫面上方資訊列，進入個人資訊頁修改，可修改內容包括：個人頭像、名稱、留言。可確認資訊有：point、勝敗平場數、勝率、分數、排名名次。登出功能也在此。

4.在主畫面點選開始遊戲，會進入難易度選擇，此頁面有資訊列、返回鍵、規則頁的button，及五個難易度button。

5.在主畫面點選商店，商店內有返回鍵、玩家目前點數、三個商品頁，三個商品頁為點數、卡背、桌布，點數頁為儲值頁(目前只有送點數的功能，當玩家持有點數<1000，可領取1000點)，卡背、桌布頁面可購買、設定當前使用的樣式。

6.在主畫面點選排行榜，進入後會直接從資料庫讀取，目前分數最高，前10名的資訊並顯示出來，點選該訊息會顯示更詳細的資訊。

7.在主畫面的快速開始，會顯示為上次玩家遊玩的難易度，點選後可直接進入遊戲。

遊戲流程：

1.選擇難易度後會進入遊戲畫面，會顯示玩家持有的point、返回鍵、規則頁的button、本次賭注、遊戲開始的button( BET point)、賭注加倍的button(會直接改變遊戲開始button的顯示文字)。

2.遊戲開始後，即會扣除本次賭注，玩家會看到卡背圖片由右向左滑動，並在指定位置翻牌，翻牌後才進行牌面計數。

3.玩家可執行要牌(hit)、停止(stand)，當玩家牌面<=11，可final hit加倍下注，但只能要一張牌。(桌面點擊兩下可執行一次hit)

4.當玩家牌面=21時，hit會變為灰色提醒玩家。當玩家牌面>21時，則為burst會直接結算遊戲(第6點)。

5.當玩家stand、final hit，或手牌=5時，會換莊家進行要牌，在前3個難易度中，莊家牌面>=17就會stand，並進行結算，最後兩個難易度則是莊家牌面>=玩家的牌面，才會stand。

6.莊家stand後即進行結算，玩家輸了沒收點數，平手歸還點數，玩家勝利則加倍歸還點數，如果玩家點數為21，則賠率2倍，BJ(兩張牌就21點)則賠率3倍。

7.分數計算為：玩家勝利 score+=獲得點數/5， 平手 score+=返還點數/10，玩家失敗 score-=失去點數/10。
